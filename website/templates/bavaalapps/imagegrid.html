
{% extends "base_app.html" %}

{% block content %}
    <div class="container mx-auto p-6 flex flex-col items-center">
        <h1 class="text-4xl font-bold text-gray-800 mb-6">Image Grid with Captions</h1>
        <p class="text-gray-600 mb-8 text-lg text-center">Upload images and add captions below each one. Then export as a Word document.</p>

        {% if errors %}
            <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4 w-full max-w-2xl" role="alert">
                <strong class="font-bold">Error!</strong>
                <span class="block sm:inline">
                    <ul>
                        {% for error in errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                </span>
            </div>
        {% endif %}

        <div class="bg-white p-8 rounded-lg shadow-md w-full max-w-2xl mb-8">
            <h2 class="text-2xl font-semibold text-gray-700 mb-4">Upload Images</h2>
            <form action="{% url 'upload_images' %}" method="post" enctype="multipart/form-data" class="space-y-4">
                {% csrf_token %}
                <div>
                    <label for="cols" class="block text-sm font-medium text-gray-700">Number of columns:</label>
                    <input type="number" id="cols" name="cols" min="1" max="6" value="{{ cols|default:2 }}" 
                           class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                </div>
                <div>
                    <p class="text-sm text-gray-500">Below adjustment works only if image size matches space.</p>
                    <label for="target_width" class="block text-sm font-medium text-gray-700">Target image width (pixels):</label>
                    <input type="number" id="target_width" name="target_width" min="200" max="1000" value="{{ target_width|default:400 }}" 
                           class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                </div>
                <div>
                    <label for="target_height" class="block text-sm font-medium text-gray-700">Target image height (pixels):</label>
                    <input type="number" id="target_height" name="target_height" min="200" max="1000" value="{{ target_height|default:300 }}" 
                           class="mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                </div>
                <div>
                    <label for="images" class="block text-sm font-medium text-gray-700">Upload images (up to 12 files):</label>
                    <input type="file" id="images" name="images" multiple accept="image/jpeg,image/png,image/webp" 
                           class="mt-1 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                </div>
                <button type="submit" class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-200 ease-in-out shadow-md">
                    Process Images
                </button>
            </form>
        </div>

        {% if show_grid %}
            <div class="bg-white p-8 rounded-lg shadow-md w-full max-w-4xl">
                <h2 class="text-2xl font-semibold text-gray-700 mb-6">Image Grid with Captions</h2>
                <form action="{% url 'generate_word_document' %}" method="post">
                    {% csrf_token %}
                    <div class="grid gap-4" style="grid-template-columns: repeat({{ cols }}, minmax(0, 1fr));">
                        {% for image_info in processed_images %}
                            <div class="bg-gray-200 rounded-lg p-4 flex flex-col items-center text-center shadow-md">
                                <img src="{{ image_info.url }}" alt="Uploaded Image {{ forloop.counter }}" class="max-w-full h-auto rounded-md object-contain" style="height: {{ target_height }}px;">
                                <input type="text" name="caption_{{ forloop.counter0 }}" 
                                       value="{{ image_info.caption }}" 
                                       placeholder="Enter caption here..."
                                       class="mt-3 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 text-center focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
                            </div>
                        {% endfor %}
                    </div>

                    <div class="mt-8 text-center">
                        <button type="submit" class="bg-green-600 text-white py-3 px-6 rounded-md hover:bg-green-700 transition duration-200 ease-in-out shadow-md text-lg">
                            Generate Word Document
                        </button>
                    </div>
                </form>
            </div>
        {% endif %}

         <!-- ✅ New Section -->
        <div class="mt-12 bg-gray-50 p-8 rounded-lg shadow-inner w-full max-w-4xl">
            <h2 class="text-3xl font-bold text-gray-800 mb-4">Detailed Description:  Image Grid Report Generator</h2>
            <p class="text-gray-700 mb-6">
                The Image Grid Report Generator available at bavaal.com is a powerful online tool designed to arrange multiple photos and images in a customizable grid layout and download the result as a Word document (.docx). This tool is perfect for professionals and businesses that create inspection reports, audit reports, quality control documentation, construction progress reports, third-party inspection reports, and any multi-image report requiring clear, professional presentation.
            </p>

            <p class="text-gray-700 mb-6">
                With this image grid creator tool, users can easily upload multiple images, customize the grid layout to fit their specific needs, and generate high-quality Word reports ready for printing or digital sharing. This eliminates the tedious manual process of organizing images in word processing software, improving efficiency and ensuring consistent formatting across all reports.
            </p>

            <h3 class="text-2xl font-semibold text-gray-800 mb-3">Key features of this photo grid Word report maker include:</h3>
            <ul class="list-disc pl-6 text-gray-700 mb-6 space-y-1">
                <li>Easy selection of multiple images.</li>
                <li>Variety of grid layout options for flexible image arrangement.</li>
                <li>Automatic resizing and alignment of images for uniform appearance.</li>
                <li>Exportable Word document format compatible with Microsoft Word, Google Docs, and other editors.</li>
                <li>Ideal for professionals in fields like auditing, inspections, compliance, quality assurance, construction, and property management.</li>
            </ul>
            <p class="text-gray-700 mb-6">
                Use this tool to streamline report creation, enhance report visuals, and improve communication with stakeholders by presenting photographic evidence in an organized, accessible format.
            </p>

            <h3 class="text-2xl font-semibold text-gray-800 mb-3">Frequently Asked Questions (FAQs)</h3>
            <div class="space-y-4 text-gray-700">
                <p><strong>Q1:</strong>  What is the Image Grid Report Generator used for?<br>
                   <strong>A1:</strong>  It is used to compile and arrange multiple images in a grid layout for easy creation of professional reports such as audit reports, third-party inspection reports, quality control reports, and construction progress documents.</p>

                <p><strong>Q2:</strong> How can I upload photos to the grid?<br>
                   <strong>A2:</strong> Users can upload photos via drag-and-drop or by selecting image files from their device, supporting common formats like JPG, PNG, and GIF.</p>

                <p><strong>Q3:</strong> Can I customize the number of images per row or column?<br>
                   <strong>A3:</strong> Yes, you can choose different grid layouts to control how many images appear per row or column, customizing the report's look to suit your needs.</p>

                <p><strong>Q4:</strong> Is the generated report editable after downloading?<br>
                   <strong>A4:</strong> Yes, the downloaded Word document (.docx) can be edited in Microsoft Word, Google Docs, or compatible word processors for any further customization.</p>

                <p><strong>Q5:</strong> Is this tool free to use?<br>
                   <strong>A5:</strong> Yes free of cost.</p>

                <p><strong>Q6:</strong> Does the tool support batch uploading of images?<br>
                   <strong>A6:</strong> Yes, the tool supports batch uploading, making it easy to handle large volumes of photos for reports without manual single uploads.</p>

                <p><strong>Q7:</strong> Do I need any software to open the downloaded document?<br>
                   <strong>A7:</strong> You’ll need a program that supports .docx files, such as Microsoft Word or Google Docs.</p>

                <p><strong>Q8</strong> Can captions or labels be added to images?<br>
                <strong>A8</strong> The tool may offer options to add captions or notes alongside images, useful for providing context in audit or inspection reports.</p>

                <p><strong>Q9</strong> What industries can benefit most from this tool?<br>
                <strong>A9</strong> Industries like construction, manufacturing, real estate, environmental inspections, quality control, and compliance auditing can greatly benefit from this efficient image report generation tool.</p>
                
                <p><strong>Q10</strong> Is this tool suitable for creating digital and printable reports?<br>
                <strong>A10</strong> Yes, the generated Word documents are perfect for both digital sharing via email or cloud storage and for high-quality printing.</p>

            </div>
        </div>

    </div>
{% endblock %}